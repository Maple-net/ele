/**
 * ÂèòÈáèÔºöelmck: ÂøÖÂ°´ÔºåË¥¶Âè∑cookieÔºåÁü≠‰ø°ÁôªÂΩïÈù¢ÊùøÈ°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/funaihui/eleWeb
 * cron 0 5 5 * * *
 * 2023.8.9 Êõ¥Êñ∞ÔºöÈ¶ñÊ¨°ÂèëÂ∏ÉÔºõ
 */
const $ = new Env('Êû´Âè∂_È•ø‰∫Ü‰πàÁ¶èÂ∞îÈ≠îÊñπ');

function _0x6bce(_0x30465a,_0x1f1a93){const _0x46df4b=_0x506c();return _0x6bce=function(_0xc802cf,_0xd6130b){_0xc802cf=_0xc802cf-(-0x1*0x14f3+-0x726+-0xe6f*-0x2);let _0x55c2ca=_0x46df4b[_0xc802cf];return _0x55c2ca;},_0x6bce(_0x30465a,_0x1f1a93);}function _0x506c(){const _0x5a670c=['exit','Vvomo','QIPDC','bnQiB','526589HGtFIv','APLeX','2tJsUeo','RHxBb','LQqry','Èò≤Ê≠¢Êå§ÁàÜ‰∫ÜÔºåÂª∂Êó∂\x201\x20Áßí','nUFSv','MOkHQ','oRHGH','duNKH','vUcws','chain','UCLWM','DPZbt','GgmVp','oPadw','mtop.koubei.interactioncenter.platform.right.lottery','BJVde','DZUYN','MNhNN','test','cZeZB','iFqiu','iRfSQ','jCFxI','call','zOcKB','VqWaE','ccSXy','apply','mtop.ele.me','function\x20*\x5c(\x20*\x5c)','rytvQ','\x22,\x22asac\x22:\x20\x222A22C0239QW1FOL3UUQY7U\x22}','./common.js','mtop.alsc.user.session.ele.check','IxQwZ','Uzxyg','encryptMobile','RGyzz','AbhGx','ZJTyp','VxIDx','zxhvC','env','fVrXz','VsUDy','hYdVL','1777836bRIjcO','discountInfo','KGnrS','915891mxInlR','localId','kmyKH','FoyCr','VBMQy','sendRightList','4IQwVnj','2675736liwfAJ','vvHel','errorMsg','DntNt','GRAVJ','AaiZC','256105uUuLvO','x5sec','aqqGv','input','gger','errorCode','Ë¥¶Âè∑ÁöÑ\x20id\x20‰∏∫','mdvfF','VsnFh','cneMb','log','aXcqW','fFkUQ','vtPki','vTRHm','IcGBK','aDkDA','YnCTp','VMwKW','stateObject','XnRFl','7346800iHiJdX','*********','dSriP','UCFjv','length','debu','rXSZf','scbAb','10385667mYFcuh','\x0a******\x20#','AwkUU','JcvRC','EnOQd','QqlIs','userName','BCOmo','Ë¥¶Âè∑Â§±ÊïàÔºÅËØ∑ÈáçÊñ∞ÁôªÂΩïÔºÅÔºÅÔºÅüò≠','PiSDk','data','jmTec','MlWrT','action','RQZmK','000502','fJkqx','IfxSS','wNlHb','{\x22bizScene\x22:\x20\x22MAGIC_CUBE\x22,\x22latitude\x22:\x20\x2230.178689\x22,\x22longitude\x22:\x20\x22120.220976\x22,\x22bizCode\x22:\x20\x22MAGIC_CUBE\x22,\x22actId\x22:\x20\x2220230802212526123181213864\x22,\x22collectionId\x22:\x20\x2220230802212526148986536967\x22,\x22componentId\x22:\x20\x2220230803112141370370827352\x22,\x22extParams\x22:\x20\x22{\x5c\x22actId\x5c\x22:\x5c\x2220230802212526123181213864\x5c\x22,\x5c\x22bizScene\x5c\x22:\x5c\x22MAGIC_CUBE\x5c\x22,\x5c\x22desc\x5c\x22:\x5c\x22È≠îÊñπÊ∂àÊ∂à‰πê\x5c\x22}\x22,\x22requestId\x22:\x20\x2220230802212526123181213864','WfULE','elmck','errorMessage','EQChA','Á¶èÂ∞îÈ≠îÊñπÈóØÂÖ≥ÊàêÂäü„ÄÇËé∑ÂæóÔºö','qJPBX','constructor'];_0x506c=function(){return _0x5a670c;};return _0x506c();}const _0x33e214=_0x6bce;(function(_0x5d5351,_0x509ba2){const _0x51151d=_0x6bce,_0x16776d=_0x5d5351();while(!![]){try{const _0x1116b5=parseInt(_0x51151d(0x11d))/(-0x802+0x1*-0x1651+0x1e54)*(parseInt(_0x51151d(0x11f))/(-0x1e03+0x1*0x2457+0x652*-0x1))+parseInt(_0x51151d(0xd4))/(0x142a*-0x1+0x2*-0x89e+0x2569)*(parseInt(_0x51151d(0xda))/(0x2*-0x10d+-0x12fe+0x151c))+parseInt(_0x51151d(0xe1))/(-0xea1*0x1+0x1a9e*-0x1+0x2944)+parseInt(_0x51151d(0xd1))/(0x1*-0x1ac9+-0x192*-0x15+-0x62b)+-parseInt(_0x51151d(0xdb))/(0x795+-0x1609+0x1*0xe7b)+parseInt(_0x51151d(0xf6))/(-0x7ea+0x5*0x2a2+-0x538)+-parseInt(_0x51151d(0xfe))/(0x18db+0xb08+-0x23da);if(_0x1116b5===_0x509ba2)break;else _0x16776d['push'](_0x16776d['shift']());}catch(_0x353e22){_0x16776d['push'](_0x16776d['shift']());}}}(_0x506c,0x8cfe1+-0x313b1+-0x2*-0x16ab0));const {validateCarmeWithType:_0x4cfa40,getCookies:_0x313a08,getUserInfoWithX:_0x4a4a5b,wait:_0x5ad5ca,commonRequest:_0x5f380f}=require(_0x33e214(0x13f)),_0x57253e=process['env']['ELE_CARME'],_0x1c5d9a=-0x1*-0x258f+0x1b2f+-0x40ae;async function _0x54936c(_0x514ee6,_0x1a78a0){const _0x290109=_0x33e214,_0x22466f={'wxmVh':function(_0x146ba2,_0x6b478f,_0x5c78a6,_0x3c1f23,_0x4b58ea,_0x3ed78b,_0x28e5c8){return _0x146ba2(_0x6b478f,_0x5c78a6,_0x3c1f23,_0x4b58ea,_0x3ed78b,_0x28e5c8);},'MNhNN':_0x290109(0x140),'mUFhV':_0x290109(0xce),'CFafU':_0x290109(0x11c),'aDkDA':'000502','iBhRJ':function(_0x21c68b,_0x5582f1){return _0x21c68b+_0x5582f1;}};let _0x4886a7='{}',_0x2a044a=await _0x22466f['wxmVh'](_0x5f380f,_0x514ee6,_0x4886a7,_0x22466f[_0x290109(0x130)],-0x8*0x283+0x20b4+0xb*-0x125,'',process[_0x290109(0xcd)][_0x290109(0xe2)]);if(_0x2a044a!==null){if(_0x2a044a[_0x290109(0x108)]){if(_0x22466f['mUFhV']===_0x22466f['CFafU'])return![];else{if(_0x2a044a[_0x290109(0x108)][_0x290109(0xe6)]===_0x22466f[_0x290109(0xf1)])return console[_0x290109(0xeb)]('Á¨¨',_0x22466f['iBhRJ'](_0x1a78a0,0x14d4+0x1f7f+0x4a*-0xb5),'Ë¥¶Âè∑',_0x2a044a[_0x290109(0x108)][_0x290109(0x114)]),null;return _0x2a044a[_0x290109(0x108)];}}else console['log'](_0x2a044a);}return null;}async function _0x109797(_0x52546c,_0x5422a2){const _0x222110=_0x33e214,_0xa5e9bf={'jCFxI':function(_0x4efbaf){return _0x4efbaf();},'vUcws':function(_0xf46654,_0x1380ad){return _0xf46654+_0x1380ad;},'QIPDC':function(_0xf3e5d6,_0xf5a59a){return _0xf3e5d6+_0xf5a59a;},'iFqiu':_0x222110(0x111),'vtPki':_0x222110(0x12d),'ZJTyp':function(_0x196630,_0x5a68e2){return _0x196630!==_0x5a68e2;},'MOkHQ':function(_0x58550e,_0x3ca548,_0x4f108d,_0x53112,_0xebf47a,_0x2b777b,_0x4e62da){return _0x58550e(_0x3ca548,_0x4f108d,_0x53112,_0xebf47a,_0x2b777b,_0x4e62da);},'PiSDk':_0x222110(0x13b),'Iuixt':_0x222110(0x116),'sKoaX':'‰πêÂõ≠Â∏Å','wNlHb':_0x222110(0x120)},_0x35eeb5=new Date()['getTime']();let _0xfde0b6=_0xa5e9bf[_0x222110(0x127)](_0xa5e9bf[_0x222110(0x11b)](_0xa5e9bf[_0x222110(0x133)],_0x35eeb5),_0x222110(0x13e)),_0x96b0ea=_0xa5e9bf[_0x222110(0xee)];try{if(_0xa5e9bf[_0x222110(0xca)](_0x222110(0xcc),_0x222110(0xd3))){const _0x584710=await _0xa5e9bf[_0x222110(0x124)](_0x5f380f,_0x52546c,_0xfde0b6,_0x96b0ea,_0x1c5d9a,_0xa5e9bf[_0x222110(0x107)],process[_0x222110(0xcd)][_0x222110(0xe2)]);if(_0x584710['data'][_0x222110(0x108)]['errorMsg'])return console[_0x222110(0xeb)](_0x584710[_0x222110(0x108)][_0x222110(0x108)][_0x222110(0xdd)]),![];else{const _0x178947=_0x584710[_0x222110(0x108)]['data'][_0x222110(0xd9)][0x2*-0x1325+0x1*-0x5b1+0x2bfb][_0x222110(0xd2)]['amount'];return console[_0x222110(0xeb)](_0xa5e9bf['QIPDC'](_0xa5e9bf['Iuixt'],_0x178947),_0xa5e9bf['sKoaX']),_0xa5e9bf[_0x222110(0xca)](_0x178947,0x18bf+-0x2036+0x778);}}else rgbttU[_0x222110(0x135)](_0x5b5791);}catch(_0x2cffa4){return _0xa5e9bf[_0x222110(0x110)]!==_0xa5e9bf[_0x222110(0x110)]?(_0x1885e6[_0x222110(0xeb)](_0x3c40cc[_0x222110(0x108)][_0x222110(0x108)][_0x222110(0xdd)]),![]):![];}}async function _0x12d072(){const _0x7b0b26=_0x33e214,_0xd9d9f9={'fJkqx':_0x7b0b26(0xd8),'MlWrT':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','VsUDy':function(_0x33aaa5,_0x2781e2){return _0x33aaa5(_0x2781e2);},'gdbJW':'init','Uzxyg':function(_0x1bc5b2,_0x1f84d8){return _0x1bc5b2+_0x1f84d8;},'fFkUQ':_0x7b0b26(0xe4),'JxRqz':_0x7b0b26(0x13c),'Vvomo':function(_0x5218fb,_0x54d3a0){return _0x5218fb+_0x54d3a0;},'VsnFh':_0x7b0b26(0x128),'XnRFl':'jFPoV','EQChA':function(_0x4c16d2,_0x10b121){return _0x4c16d2(_0x10b121);},'VxIDx':_0x7b0b26(0x10d),'APLeX':function(_0x538724,_0x174a8e){return _0x538724+_0x174a8e;},'nUFSv':function(_0x32aa66,_0x3b599,_0x2228b6){return _0x32aa66(_0x3b599,_0x2228b6);},'duNKH':_0x7b0b26(0x106),'cZeZB':function(_0x49ce61,_0x93989b){return _0x49ce61!==_0x93989b;},'cneMb':_0x7b0b26(0x139),'YnCTp':_0x7b0b26(0xff),'NuCPn':_0x7b0b26(0xf7),'iRfSQ':_0x7b0b26(0xe7),'oPadw':function(_0x2f2284,_0x35e664){return _0x2f2284(_0x35e664);},'zOcKB':_0x7b0b26(0x122),'JcvRC':function(_0xe6c9a7,_0x15d318){return _0xe6c9a7(_0x15d318);}},_0x520830=(function(){const _0x476fc7=_0x7b0b26,_0x29574e={'IcGBK':_0xd9d9f9['MlWrT'],'AwkUU':function(_0x28fc9a,_0x1d5980){const _0x196bbc=_0x6bce;return _0xd9d9f9[_0x196bbc(0xcf)](_0x28fc9a,_0x1d5980);},'DntNt':_0xd9d9f9['gdbJW'],'FqKLP':_0x476fc7(0x128),'mdvfF':function(_0x1913a0,_0x25e1bd){const _0x3df0b7=_0x476fc7;return _0xd9d9f9[_0x3df0b7(0xc6)](_0x1913a0,_0x25e1bd);},'BCOmo':_0xd9d9f9['fFkUQ'],'LQqry':function(_0x238ec1,_0x1e6f1b,_0x55ea05){return _0x238ec1(_0x1e6f1b,_0x55ea05);}};if('iRJCF'==='iRJCF'){let _0x1c99af=!![];return function(_0x2f01d6,_0x208cc7){const _0x24b548=_0x476fc7;if(_0xd9d9f9['fJkqx']===_0xd9d9f9[_0x24b548(0x10e)]){const _0x5e0b1a=_0x1c99af?function(){const _0x2a3bfa=_0x24b548;if(_0x208cc7){const _0x14815b=_0x208cc7[_0x2a3bfa(0x13a)](_0x2f01d6,arguments);return _0x208cc7=null,_0x14815b;}}:function(){};return _0x1c99af=![],_0x5e0b1a;}else{const _0x166de3=_0x4ab615?function(){const _0x43607f=_0x24b548;if(_0x1564bc){const _0x18b0ba=_0x3bc44d[_0x43607f(0x13a)](_0x5087fc,arguments);return _0x2f8d81=null,_0x18b0ba;}}:function(){};return _0x5685ad=![],_0x166de3;}};}else uCJvuj[_0x476fc7(0x121)](_0x2f10ce,this,function(){const _0x52cfe6=_0x476fc7,_0x59c890=new _0x4cfc6d(_0x52cfe6(0x13c)),_0xfc8333=new _0x443172(uCJvuj[_0x52cfe6(0xf0)],'i'),_0x1b4844=uCJvuj[_0x52cfe6(0x100)](_0x431f3e,uCJvuj[_0x52cfe6(0xde)]);!_0x59c890['test'](_0x1b4844+uCJvuj['FqKLP'])||!_0xfc8333[_0x52cfe6(0x131)](uCJvuj[_0x52cfe6(0xe8)](_0x1b4844,uCJvuj[_0x52cfe6(0x105)]))?_0x1b4844('0'):_0x1dc095();})();}());(function(){const _0xf8ab9d=_0x7b0b26,_0x2d0299={'DZUYN':function(_0x1a21d3,_0x2d0c9c){return _0x1a21d3===_0x2d0c9c;},'GRAVJ':_0xd9d9f9[_0xf8ab9d(0xcb)],'AaiZC':function(_0x4ba87f,_0x20197d){return _0xd9d9f9['APLeX'](_0x4ba87f,_0x20197d);}};_0x520830(this,function(){const _0x1b0527=_0xf8ab9d,_0x3ef12d=new RegExp(_0xd9d9f9['JxRqz']),_0x1b3e4c=new RegExp(_0xd9d9f9[_0x1b0527(0x10a)],'i'),_0xca5f63=_0xd9d9f9[_0x1b0527(0xcf)](_0x286271,_0xd9d9f9['gdbJW']);if(!_0x3ef12d[_0x1b0527(0x131)](_0xd9d9f9[_0x1b0527(0x11a)](_0xca5f63,_0xd9d9f9[_0x1b0527(0xe9)]))||!_0x1b3e4c[_0x1b0527(0x131)](_0xd9d9f9[_0x1b0527(0x11a)](_0xca5f63,_0xd9d9f9[_0x1b0527(0xed)]))){if(_0xd9d9f9[_0x1b0527(0xf5)]!==_0xd9d9f9[_0x1b0527(0xf5)]){if(_0x2d0299[_0x1b0527(0x12f)](_0x4fa33d['data'][_0x1b0527(0xe6)],_0x2d0299[_0x1b0527(0xdf)]))return _0x31608f[_0x1b0527(0xeb)]('Á¨¨',_0x2d0299[_0x1b0527(0xe0)](_0x13afbd,-0xfea+-0x685*0x1+-0x167*-0x10),'Ë¥¶Âè∑',_0x15153c[_0x1b0527(0x108)][_0x1b0527(0x114)]),null;return _0x2d6805['data'];}else _0xd9d9f9[_0x1b0527(0x115)](_0xca5f63,'0');}else _0x286271();})();}()),await _0x4cfa40(_0x57253e,-0x1ab1+0x2624+0x1*-0xb72);const _0x4aa0a5=_0xd9d9f9['EQChA'](_0x313a08,_0x7b0b26(0x113));for(let _0x5f5af0=-0x1*-0x1d63+0x7f*0x27+-0x30bc;_0x5f5af0<_0x4aa0a5['length'];_0x5f5af0++){let _0x194a04=_0x4aa0a5[_0x5f5af0],_0x125e6f=await _0xd9d9f9[_0x7b0b26(0x123)](_0x4a4a5b,_0x194a04,_0x1c5d9a);if(_0x125e6f&&_0x125e6f[0x6eb*0x4+-0x266a*-0x1+-0x4216]){console[_0x7b0b26(0xeb)]('Á¨¨',_0x5f5af0+(-0x4b8+0x48c+-0x9*-0x5),_0xd9d9f9[_0x7b0b26(0x126)]);continue;}if(!_0x125e6f||!_0x125e6f[_0x7b0b26(0x104)]){if(_0xd9d9f9[_0x7b0b26(0x132)](_0xd9d9f9['cneMb'],_0xd9d9f9[_0x7b0b26(0xea)]))return!![];else continue;}const _0x530980=_0x125e6f[_0x7b0b26(0xd5)];let _0x3270f2=_0x125e6f[_0x7b0b26(0xc7)];console[_0x7b0b26(0xeb)](_0xd9d9f9[_0x7b0b26(0xf2)]+_0xd9d9f9[_0x7b0b26(0x11e)](_0x5f5af0,0x72*-0x7+0x139*0xf+-0xf38),_0x3270f2,_0xd9d9f9['NuCPn']),console[_0x7b0b26(0xeb)](_0xd9d9f9[_0x7b0b26(0x134)],_0x530980),await _0xd9d9f9[_0x7b0b26(0x12c)](_0x109797,_0x194a04),console[_0x7b0b26(0xeb)](_0xd9d9f9[_0x7b0b26(0x137)]),await _0xd9d9f9[_0x7b0b26(0x101)](_0x5ad5ca,0x1db9+0xf4f+-0x2d07);}process[_0x7b0b26(0x119)](-0x1*0x6d9+0x35b*0x1+0x37e);}_0x12d072();function _0x286271(_0x2a1985){const _0x4d4b71=_0x33e214,_0x11483c={'RGyzz':function(_0x5871ac,_0xa2c5ab){return _0x5871ac+_0xa2c5ab;},'GgmVp':_0x4d4b71(0xfb),'rXSZf':_0x4d4b71(0xe5),'vTRHm':function(_0x544e2d,_0x197859){return _0x544e2d+_0x197859;},'vvHel':function(_0x1ffe86,_0x2730b2){return _0x1ffe86===_0x2730b2;},'HZFvo':_0x4d4b71(0x10d),'VMwKW':function(_0x189e1d,_0x15a3f5){return _0x189e1d+_0x15a3f5;},'UCLWM':'kdrIg','scbAb':'string','DPZbt':_0x4d4b71(0xec),'dSriP':'while\x20(true)\x20{}','oRHGH':'counter','BJVde':'xwEWK','WfULE':function(_0x3b4ac4,_0x257cc3){return _0x3b4ac4!==_0x257cc3;},'sIJDI':function(_0x4cee1c,_0x297a5c){return _0x4cee1c+_0x297a5c;},'jmTec':function(_0x40b2c2,_0x1981b7){return _0x40b2c2/_0x1981b7;},'aqqGv':function(_0x592960,_0x268790){return _0x592960===_0x268790;},'OKYdx':function(_0x34bfdf,_0x531f03){return _0x34bfdf%_0x531f03;},'pjfug':function(_0x14ca7f,_0x33d97e){return _0x14ca7f+_0x33d97e;},'IxQwZ':_0x4d4b71(0x10b),'rytvQ':_0x4d4b71(0x10f),'hYdVL':_0x4d4b71(0xd6),'PuNes':_0x4d4b71(0xf4),'qJPBX':_0x4d4b71(0xc9)};function _0x274478(_0x7f51bf){const _0x58f268=_0x4d4b71,_0x50e8ba={'UCFjv':function(_0x52b31c,_0x344e8a){const _0x878f6b=_0x6bce;return _0x11483c[_0x878f6b(0xdc)](_0x52b31c,_0x344e8a);},'EnOQd':_0x11483c['HZFvo'],'fpcuA':function(_0x52b843,_0x29d331){const _0x10e9d2=_0x6bce;return _0x11483c[_0x10e9d2(0xf3)](_0x52b843,_0x29d331);},'RQZmK':function(_0x3d4f08,_0x2ee861){return _0x11483c['vvHel'](_0x3d4f08,_0x2ee861);},'VqWaE':'VruHC'};if(_0x11483c[_0x58f268(0x129)]!==_0x11483c['UCLWM'])(function(){return!![];}[_0x58f268(0x118)](_0x11483c[_0x58f268(0xc8)](_0x11483c[_0x58f268(0x12b)],_0x11483c[_0x58f268(0xfc)]))[_0x58f268(0x136)]('action'));else{if(typeof _0x7f51bf===_0x11483c[_0x58f268(0xfd)]){if(_0x11483c[_0x58f268(0xdc)](_0x11483c[_0x58f268(0x12a)],_0x11483c[_0x58f268(0x12a)]))return function(_0xd9e8f1){}[_0x58f268(0x118)](_0x11483c[_0x58f268(0xf8)])[_0x58f268(0x13a)](_0x11483c[_0x58f268(0x125)]);else{if(_0x20273b['data']){if(_0x50e8ba[_0x58f268(0xf9)](_0x1423dd[_0x58f268(0x108)][_0x58f268(0xe6)],_0x50e8ba[_0x58f268(0x102)]))return _0x53157b[_0x58f268(0xeb)]('Á¨¨',_0x50e8ba['fpcuA'](_0x1fa956,0x234+0x4dc*0x7+0x7f*-0x49),'Ë¥¶Âè∑',_0x2e1ae1[_0x58f268(0x108)]['errorMessage']),null;return _0x408481[_0x58f268(0x108)];}else _0x1f8fc8[_0x58f268(0xeb)](_0x28b843);}}else{if(_0x11483c['BJVde']===_0x11483c[_0x58f268(0x12e)])_0x11483c['WfULE'](_0x11483c['sIJDI']('',_0x11483c[_0x58f268(0x109)](_0x7f51bf,_0x7f51bf))[_0x58f268(0xfa)],-0xf*-0x1fe+0x133*-0x4+-0x1915)||_0x11483c[_0x58f268(0xe3)](_0x11483c['OKYdx'](_0x7f51bf,0x73c*-0x2+0x1239+0x1*-0x3ad),-0xab*0xd+-0x1*-0x5ea+0x2c5)?function(){return!![];}[_0x58f268(0x118)](_0x11483c['pjfug'](_0x11483c['GgmVp'],_0x11483c[_0x58f268(0xfc)]))['call'](_0x11483c[_0x58f268(0xc5)]):_0x11483c[_0x58f268(0xdc)](_0x11483c[_0x58f268(0x13d)],_0x11483c[_0x58f268(0xd0)])?_0x348d18('0'):function(){const _0x382c61=_0x58f268;return _0x50e8ba[_0x382c61(0x10c)](_0x382c61(0xd7),_0x50e8ba[_0x382c61(0x138)])?![]:![];}[_0x58f268(0x118)](_0x11483c['GgmVp']+_0x11483c[_0x58f268(0xfc)])[_0x58f268(0x13a)](_0x11483c['PuNes']);else return _0xfeb26e['log']('Á¨¨',_0x11483c[_0x58f268(0xef)](_0x1be92a,-0x1*-0xc4f+-0x111a+-0x4*-0x133),'Ë¥¶Âè∑',_0x22c2fe['data'][_0x58f268(0x114)]),null;}_0x274478(++_0x7f51bf);}}try{if(_0x2a1985)return _0x274478;else{if(_0x11483c[_0x4d4b71(0x112)](_0x11483c[_0x4d4b71(0x117)],_0x4d4b71(0x103)))_0x274478(-0x56*0x6b+0x2076+0x1be*0x2);else{const _0x327391=_0x22c6f6[_0x4d4b71(0x13a)](_0x4f569c,arguments);return _0x2e6aaa=null,_0x327391;}}}catch(_0x1d163d){}}
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `üîî${this.name}, ÂºÄÂßã!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t.stack) : this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
