/**
 * @Âπ≥Ë°åÁª≥ È£ûÊú∫È¢ëÈÅìÔºöhttps://t.me/tigerorrose
 * ÂèòÈáèÔºöelmck: ÂøÖÂ°´ÔºåË¥¶Âè∑cookieÔºåÁü≠‰ø°ÁôªÂΩïÈù¢ÊùøÈ°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/funaihui/eleWeb
 * cron 0 5 5 * * *
 * 2023.8.9 Êõ¥Êñ∞ÔºöÈ¶ñÊ¨°ÂèëÂ∏ÉÔºõ
 */

const $ = new Env('Êû´Âè∂_È•ø‰∫Ü‰πàÁ¶èÂ∞îÈ≠îÊñπ');

const _0x7a27c4=_0x2d83;(function(_0x288fde,_0x240b53){const _0x2f1f17=_0x2d83,_0x5dc99a=_0x288fde();while(!![]){try{const _0x5aef56=parseInt(_0x2f1f17(0x210))/(-0x24bc*-0x1+0x1350+-0x380b*0x1)+parseInt(_0x2f1f17(0x216))/(0x228d+-0x1bb2+-0x6d9)*(parseInt(_0x2f1f17(0x1e5))/(0xb7+0x1723+-0x17d7))+-parseInt(_0x2f1f17(0x1f9))/(0x22f3*-0x1+-0xa48+0x63*0x75)*(-parseInt(_0x2f1f17(0x254))/(0x1*-0x1eb+0xf*0x75+0x4eb*-0x1))+parseInt(_0x2f1f17(0x262))/(0x573+-0x16ba*0x1+0x114d)+parseInt(_0x2f1f17(0x1fe))/(-0x3*0x271+0xa9b+-0x341)+parseInt(_0x2f1f17(0x1e6))/(-0xa73+-0x3*-0x6e3+-0x2*0x517)+parseInt(_0x2f1f17(0x1e4))/(-0x2d*-0xaf+0x1*0xcb9+-0x2b73)*(-parseInt(_0x2f1f17(0x204))/(0x1a9f+-0x31*-0x51+-0x2a16));if(_0x5aef56===_0x240b53)break;else _0x5dc99a['push'](_0x5dc99a['shift']());}catch(_0x4965a3){_0x5dc99a['push'](_0x5dc99a['shift']());}}}(_0x52b5,-0x4*0x1a47f+-0xb4e26*-0x1+-0x1289a*-0x1));const {validateCarmeWithType:_0x4cfa40,getCookies:_0x313a08,getUserInfoWithX:_0x4a4a5b,wait:_0x5ad5ca,commonRequest:_0x5f380f,getCoordinates}=require(_0x7a27c4(0x260)),_0x57253e=process['env'][_0x7a27c4(0x21b)],_0x1c5d9a=0x289*-0x7+0x1b08+-0x939;async function _0x54936c(_0x1eeb3f,_0x1f2e50){const _0x43e9a0=_0x7a27c4,_0x3645ce={'LxQxl':_0x43e9a0(0x266),'sXaHA':function(_0x1b27f3,_0x3d6527){return _0x1b27f3===_0x3d6527;},'DDAJS':'000502','fdxmF':_0x43e9a0(0x224),'kiDas':function(_0x4503cf,_0x370b13){return _0x4503cf+_0x370b13;}};let _0x2713c6='{}',_0x3d9b04=await _0x5f380f(_0x1eeb3f,_0x2713c6,_0x3645ce['LxQxl'],0x1ab9+0x17*-0x6b+-0x1*0x1117,'',process[_0x43e9a0(0x1e9)][_0x43e9a0(0x21d)]);if(_0x3d9b04!==null){if(_0x3d9b04[_0x43e9a0(0x1ff)]){if(_0x3645ce[_0x43e9a0(0x1e2)](_0x3d9b04['data']['errorCode'],_0x3645ce[_0x43e9a0(0x251)])){if(_0x3645ce[_0x43e9a0(0x1e2)](_0x3645ce[_0x43e9a0(0x1f6)],_0x3645ce[_0x43e9a0(0x1f6)]))return console['log']('Á¨¨',_0x3645ce[_0x43e9a0(0x261)](_0x1f2e50,-0x173*0x2+0x147*-0xd+0x1382),'Ë¥¶Âè∑',_0x3d9b04[_0x43e9a0(0x1ff)][_0x43e9a0(0x1e3)]),null;else _0x4b1346(0x563+0xa57+-0xb*0x16e);}return _0x3d9b04[_0x43e9a0(0x1ff)];}else console['log'](_0x3d9b04);}return null;}async function _0x109797(_0x31096c,_0x286059){const _0x995951=_0x7a27c4,_0x31f63b={'yLSbo':function(_0x2c6dc7,_0x5c6e0b){return _0x2c6dc7+_0x5c6e0b;},'yzVsy':'Á¶èÂ∞îÈ≠îÊñπÈóØÂÖ≥ÊàêÂäü„ÄÇËé∑ÂæóÔºö','mzRKi':_0x995951(0x1ee),'afAhV':function(_0x198da6,_0x32f81d){return _0x198da6!==_0x32f81d;},'dJkQQ':function(_0x442f7c){return _0x442f7c();},'ZpuiG':_0x995951(0x20d),'CbzmI':_0x995951(0x238),'Qvvwn':'20230802212526148986536967','jabXo':_0x995951(0x1fa),'NeAGc':_0x995951(0x243),'hawIi':function(_0x29ad59,_0x2381fa){return _0x29ad59+_0x2381fa;},'UebGY':_0x995951(0x20b),'KQBSv':'mtop.koubei.interactioncenter.platform.right.lottery','dRRPf':function(_0xf45636,_0x46012a,_0xa5892a,_0x520973,_0x35e9fe,_0x20d4cc,_0xef3b90){return _0xf45636(_0x46012a,_0xa5892a,_0x520973,_0x35e9fe,_0x20d4cc,_0xef3b90);},'TuvJO':'mtop.ele.me','KmRvj':function(_0x46566b,_0xd06ff){return _0x46566b===_0xd06ff;},'AxZYL':_0x995951(0x221),'gAWIj':_0x995951(0x22a)},_0x9797d9=new Date()['getTime'](),{latitude:_0x11c71e,longitude:_0x12470b}=await _0x31f63b[_0x995951(0x209)](getCoordinates),_0x2d5305={'bizScene':_0x31f63b[_0x995951(0x1f3)],'latitude':_0x11c71e,'longitude':_0x12470b,'bizCode':_0x31f63b[_0x995951(0x1f3)],'actId':_0x31f63b[_0x995951(0x212)],'collectionId':_0x31f63b[_0x995951(0x1f4)],'componentId':_0x31f63b[_0x995951(0x202)],'extParams':_0x31f63b[_0x995951(0x222)],'requestId':_0x31f63b[_0x995951(0x24e)](_0x31f63b['CbzmI'],_0x9797d9)+'','asac':_0x31f63b[_0x995951(0x200)]};let _0x1924bf=_0x31f63b[_0x995951(0x23a)];try{const _0x1a7d04=await _0x31f63b[_0x995951(0x23f)](_0x5f380f,_0x31096c,JSON[_0x995951(0x201)](_0x2d5305),_0x1924bf,_0x1c5d9a,_0x31f63b['TuvJO'],process[_0x995951(0x1e9)]['x5sec']);if(_0x1a7d04[_0x995951(0x1ff)][_0x995951(0x1ff)]['errorMsg'])return console[_0x995951(0x227)](_0x1a7d04[_0x995951(0x1ff)][_0x995951(0x1ff)][_0x995951(0x20a)]),![];else{if(_0x31f63b[_0x995951(0x23d)](_0x31f63b['AxZYL'],_0x31f63b['gAWIj'])){const _0x41ae7d=_0x5373ad['data'][_0x995951(0x1ff)][_0x995951(0x237)][0xaf5+-0x219f+0x16aa][_0x995951(0x1f5)][_0x995951(0x1ea)];return _0x39cee7['log'](_0x31f63b[_0x995951(0x240)](_0x31f63b[_0x995951(0x1ec)],_0x41ae7d),_0x31f63b[_0x995951(0x1ed)]),_0x31f63b[_0x995951(0x1e8)](_0x41ae7d,-0x18f8+0x2038+-0x173*0x5);}else{const _0x32a38d=_0x1a7d04[_0x995951(0x1ff)][_0x995951(0x1ff)][_0x995951(0x237)][0x9aa+-0x18f6+0x3d3*0x4][_0x995951(0x1f5)][_0x995951(0x1ea)];return console[_0x995951(0x227)](_0x31f63b[_0x995951(0x24e)](_0x31f63b[_0x995951(0x1ec)],_0x32a38d),'‰πêÂõ≠Â∏Å'),_0x31f63b['afAhV'](_0x32a38d,0x2*0x5c9+-0x2683*0x1+0x1af2);}}}catch(_0x4ff302){return![];}}function _0x2d83(_0x2d83ff,_0x8416be){const _0x37427a=_0x52b5();return _0x2d83=function(_0x991e56,_0x37a20b){_0x991e56=_0x991e56-(0x216c+-0x85d+0x15d*-0x11);let _0x586a2=_0x37427a[_0x991e56];return _0x586a2;},_0x2d83(_0x2d83ff,_0x8416be);}async function _0x12d072(){const _0x686abc=_0x7a27c4,_0x56f245={'WzyvS':function(_0x2ef1a8,_0x81eadd){return _0x2ef1a8===_0x81eadd;},'yaMRC':_0x686abc(0x241),'WRRRF':_0x686abc(0x263),'ToVBm':function(_0x19efb2,_0x2dcf87){return _0x19efb2+_0x2dcf87;},'GErzk':_0x686abc(0x1fd),'SvwVz':function(_0x5dd8d1,_0xddad0b){return _0x5dd8d1+_0xddad0b;},'Qbtnl':_0x686abc(0x250),'ovBvX':function(_0x7f081a,_0x335f59){return _0x7f081a(_0x335f59);},'dvioo':function(_0x43b0e4){return _0x43b0e4();},'TCKEy':_0x686abc(0x22e),'GfZXQ':function(_0x21dc56,_0x3c49cc,_0x491459){return _0x21dc56(_0x3c49cc,_0x491459);},'NBRXQ':'function\x20*\x5c(\x20*\x5c)','BTpzQ':function(_0x318cdd,_0x2fe653){return _0x318cdd(_0x2fe653);},'AGheg':function(_0x358d8d,_0xcb2129){return _0x358d8d+_0xcb2129;},'adZls':function(_0x5025d7,_0x55e4f9){return _0x5025d7+_0x55e4f9;},'PxJRM':function(_0x5f42db){return _0x5f42db();},'PoXJN':'elmck','TeMfX':function(_0x1051d2,_0x32d9d6){return _0x1051d2!==_0x32d9d6;},'JUFQJ':_0x686abc(0x20f),'dktun':function(_0x56540f,_0x23edbc,_0x193a97){return _0x56540f(_0x23edbc,_0x193a97);},'SAQLo':_0x686abc(0x231),'LzQNB':_0x686abc(0x207),'CGlnD':function(_0x2abd1d,_0x2fa742){return _0x2abd1d+_0x2fa742;},'VsnCe':'Ë¥¶Âè∑Â§±ÊïàÔºÅËØ∑ÈáçÊñ∞ÁôªÂΩïÔºÅÔºÅÔºÅüò≠','bfTCN':_0x686abc(0x242),'MjPbE':function(_0x17d18a,_0x577eff){return _0x17d18a+_0x577eff;},'EWdCz':'*********','NCcKm':_0x686abc(0x1fb),'iZJvp':function(_0x389229,_0x51bc56){return _0x389229(_0x51bc56);},'TUxMc':_0x686abc(0x228)},_0x365f3a=(function(){const _0x48f00b={'HMbcp':function(_0x4f20a5,_0xdcca94){const _0x803225=_0x2d83;return _0x56f245[_0x803225(0x253)](_0x4f20a5,_0xdcca94);}};let _0x253cca=!![];return function(_0x14c469,_0x48cec5){const _0x43ad5b={'ciHSB':function(_0x56350d,_0x5e491f){const _0x5a5c88=_0x2d83;return _0x48f00b[_0x5a5c88(0x1f7)](_0x56350d,_0x5e491f);}},_0x47e38e=_0x253cca?function(){const _0x51365d=_0x2d83;if(_0x43ad5b[_0x51365d(0x223)](_0x51365d(0x1fc),'qQexD')){if(_0x48cec5){const _0x8c67ca=_0x48cec5['apply'](_0x14c469,arguments);return _0x48cec5=null,_0x8c67ca;}}else{const _0x27bd47=_0x16dd63[_0x51365d(0x23e)](_0x1c1736,arguments);return _0x544b04=null,_0x27bd47;}}:function(){};return _0x253cca=![],_0x47e38e;};}());(function(){const _0x4be532=_0x686abc;if(_0x56f245[_0x4be532(0x21a)]!==_0x56f245['TCKEy']){const _0x23c95e=_0x1face6?function(){if(_0x4fd3c7){const _0x3b7fbd=_0x293c4a['apply'](_0x4f8453,arguments);return _0x88a50c=null,_0x3b7fbd;}}:function(){};return _0xd13346=![],_0x23c95e;}else _0x56f245[_0x4be532(0x21e)](_0x365f3a,this,function(){const _0x1fe793=_0x4be532,_0x380584=new RegExp(_0x1fe793(0x24c)),_0x172b82=new RegExp(_0x56f245[_0x1fe793(0x245)],'i'),_0x31228d=_0x2ed530(_0x56f245[_0x1fe793(0x246)]);!_0x380584['test'](_0x56f245[_0x1fe793(0x208)](_0x31228d,_0x56f245[_0x1fe793(0x219)]))||!_0x172b82[_0x1fe793(0x233)](_0x56f245[_0x1fe793(0x213)](_0x31228d,_0x56f245[_0x1fe793(0x218)]))?_0x56f245[_0x1fe793(0x230)](_0x31228d,'0'):_0x56f245[_0x1fe793(0x23b)](_0x2ed530);})();}()),await _0x4cfa40(_0x57253e,0x2215*0x1+0xa3*-0x5+-0x1*0x1ee5);const _0x512eef=_0x313a08(_0x56f245[_0x686abc(0x244)]);for(let _0x858773=-0x2216*0x1+-0x15a1+0x37b7;_0x858773<_0x512eef['length'];_0x858773++){if(_0x56f245[_0x686abc(0x264)](_0x686abc(0x24b),_0x56f245[_0x686abc(0x217)])){let _0x1ec564=_0x512eef[_0x858773],_0x37af53=await _0x56f245['dktun'](_0x4a4a5b,_0x1ec564,_0x1c5d9a);if(_0x37af53&&_0x37af53[-0x18bb+-0x1c6d*0x1+0xd8*0x3f]){if(_0x56f245['WzyvS'](_0x56f245['SAQLo'],_0x56f245[_0x686abc(0x248)])){const _0x5bf0a0=new _0x4027eb(AoZdiE[_0x686abc(0x24a)]),_0x29e643=new _0x339507(AoZdiE[_0x686abc(0x245)],'i'),_0x27e73a=AoZdiE[_0x686abc(0x1f8)](_0x2136a4,AoZdiE[_0x686abc(0x246)]);!_0x5bf0a0[_0x686abc(0x233)](AoZdiE[_0x686abc(0x20e)](_0x27e73a,AoZdiE[_0x686abc(0x219)]))||!_0x29e643[_0x686abc(0x233)](AoZdiE[_0x686abc(0x265)](_0x27e73a,AoZdiE[_0x686abc(0x218)]))?_0x27e73a('0'):AoZdiE[_0x686abc(0x25a)](_0x3544f1);}else{console[_0x686abc(0x227)]('Á¨¨',_0x56f245[_0x686abc(0x20c)](_0x858773,0xc*0x324+-0x716*0x3+-0x106d),_0x56f245[_0x686abc(0x232)]);continue;}}if(!_0x37af53||!_0x37af53['userName']){if('FdCwo'!==_0x56f245[_0x686abc(0x211)])continue;else _0x307557[_0x686abc(0x227)](_0xb976f9);}const _0x340cb7=_0x37af53['localId'];let _0x32e78b=_0x37af53[_0x686abc(0x1eb)];console['log'](_0x686abc(0x236)+_0x56f245['MjPbE'](_0x858773,0x2a0+-0x1a46+0x5*0x4bb),_0x32e78b,_0x56f245[_0x686abc(0x1f2)]),console['log'](_0x56f245[_0x686abc(0x226)],_0x340cb7),await _0x56f245[_0x686abc(0x214)](_0x109797,_0x1ec564),console[_0x686abc(0x227)](_0x56f245[_0x686abc(0x24d)]),await _0x5ad5ca(0x25*0xa3+-0x89b*0x1+-0xef3);}else return _0x44053d;}process[_0x686abc(0x225)](-0x1e3*-0xe+0x24b*-0x5+0xef3*-0x1);}_0x12d072();function _0x52b5(){const _0x575533=['WRRRF','XawbC','LzQNB','HuGwW','NBRXQ','AncMY','function\x20*\x5c(\x20*\x5c)','TUxMc','hawIi','YnWDh','input','DDAJS','yfeFu','WzyvS','2730820KySBLW','WbYAh','qXfGF','string','zVtJc','VWLDp','PxJRM','bOhwZ','uzDsN','QeXQA','hfxmz','vBMHH','./common.js','kiDas','351276wSdDZG','init','TeMfX','adZls','mtop.alsc.user.session.ele.check','eAXZv','sXaHA','errorMessage','3864807uUSwsx','580221GBxxKs','4799040mAhrsR','000502','afAhV','env','amount','encryptMobile','yzVsy','mzRKi','‰πêÂõ≠Â∏Å','zPSDR','hHrNW','MtNYm','EWdCz','ZpuiG','Qvvwn','discountInfo','fdxmF','HMbcp','BTpzQ','4oAOOqQ','20230803112141370370827352','Ë¥¶Âè∑ÁöÑ\x20id\x20‰∏∫','qQexD','chain','2987012oSKTdc','data','UebGY','stringify','jabXo','action','50lasngt','UDzBE','YoPDp','gVTJm','ToVBm','dJkQQ','errorMsg','2A22C0239QW1FOL3UUQY7U','CGlnD','MAGIC_CUBE','AGheg','cgChK','708646TlnvWW','bfTCN','CbzmI','SvwVz','iZJvp','iXNXy','2mflzQf','JUFQJ','Qbtnl','GErzk','TCKEy','ELE_CARME','gger','x5sec','GfZXQ','ysahE','constructor','TbuTh','NeAGc','ciHSB','IKuKo','exit','NCcKm','log','Èò≤Ê≠¢Êå§ÁàÜ‰∫ÜÔºåÂª∂Êó∂\x201\x20Áßí','while\x20(true)\x20{}','kwORB','rHSwB','yOlnO','debu','xrUQs','Vmbms','ovBvX','fvuQc','VsnCe','test','LijgN','XwWjk','\x0a******\x20#','sendRightList','20230802212526123181213864','oEnlN','KQBSv','dvioo','aQAtd','KmRvj','apply','dRRPf','yLSbo','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','FPiBq','{\x5c\x22actId\x5c\x22:\x5c\x2220230802212526123181213864\x5c\x22,\x5c\x22bizScene\x5c\x22:\x5c\x22MAGIC_CUBE\x5c\x22,\x5c\x22desc\x5c\x22:\x5c\x22È≠îÊñπÊ∂àÊ∂à‰πê\x5c\x22}','PoXJN','yaMRC'];_0x52b5=function(){return _0x575533;};return _0x52b5();}function _0x2ed530(_0x2bb594){const _0x2647dc=_0x7a27c4,_0x2ccf46={'YoPDp':function(_0x779d67,_0x18c2cc){return _0x779d67===_0x18c2cc;},'SzLaK':_0x2647dc(0x234),'QeXQA':function(_0x1ed07b,_0x16dde0){return _0x1ed07b===_0x16dde0;},'UDzBE':_0x2647dc(0x1e7),'yfeFu':function(_0x45f854,_0x511326){return _0x45f854+_0x511326;},'iXNXy':'SPZMl','HuGwW':_0x2647dc(0x23c),'XwWjk':_0x2647dc(0x257),'WwYrH':'counter','zVtJc':function(_0x28311b,_0x4d7164){return _0x28311b!==_0x4d7164;},'YnWDh':function(_0x3f7f5c,_0x22af64){return _0x3f7f5c+_0x22af64;},'yOlnO':function(_0x42aadd,_0x47e26a){return _0x42aadd/_0x47e26a;},'hHrNW':'length','VWLDp':function(_0x568fcb,_0x47ec09){return _0x568fcb%_0x47ec09;},'XawbC':function(_0x700008,_0x4bf86f){return _0x700008+_0x4bf86f;},'uzDsN':_0x2647dc(0x21c),'zPSDR':_0x2647dc(0x25f),'bOhwZ':function(_0x1be8b0,_0x21e8d6){return _0x1be8b0+_0x21e8d6;},'hfxmz':'stateObject','eAXZv':function(_0x2f80da,_0x45ea50){return _0x2f80da(_0x45ea50);},'ldbMY':function(_0x5bda82,_0x1285cc){return _0x5bda82(_0x1285cc);},'Vmbms':_0x2647dc(0x255),'qXfGF':function(_0x1b0779,_0x241f59){return _0x1b0779===_0x241f59;},'rHSwB':_0x2647dc(0x21f),'oEnlN':_0x2647dc(0x1f1)};function _0x14e1ea(_0x41db37){const _0x57ffd3=_0x2647dc;if(_0x2ccf46[_0x57ffd3(0x215)]!==_0x2ccf46[_0x57ffd3(0x249)]){if(typeof _0x41db37===_0x2ccf46[_0x57ffd3(0x235)])return function(_0x33b72b){}[_0x57ffd3(0x220)](_0x57ffd3(0x229))[_0x57ffd3(0x23e)](_0x2ccf46['WwYrH']);else{if(_0x2ccf46[_0x57ffd3(0x258)](_0x2ccf46[_0x57ffd3(0x24f)]('',_0x2ccf46[_0x57ffd3(0x22c)](_0x41db37,_0x41db37))[_0x2ccf46[_0x57ffd3(0x1f0)]],0x8d6*0x1+-0x6*-0x16+-0x959)||_0x2ccf46[_0x57ffd3(0x259)](_0x41db37,-0x1*0x15c7+-0xe*0x191+-0x2bc9*-0x1)===0xe*-0x29d+0x7*-0x397+0x1*0x3db7)(function(){return!![];}['constructor'](_0x2ccf46[_0x57ffd3(0x247)](_0x57ffd3(0x22d),_0x2ccf46[_0x57ffd3(0x25c)]))['call'](_0x57ffd3(0x203)));else{if(_0x2ccf46[_0x57ffd3(0x1ef)]===_0x2ccf46['zPSDR'])(function(){const _0x2ab55f=_0x57ffd3;return _0x2ccf46[_0x2ab55f(0x206)](_0x2ccf46['SzLaK'],_0x2ccf46['SzLaK'])?![]:(_0x82ca42[_0x2ab55f(0x227)](_0x366b44[_0x2ab55f(0x1ff)]['data']['errorMsg']),![]);}['constructor'](_0x2ccf46[_0x57ffd3(0x25b)]('debu',_0x2ccf46['uzDsN']))[_0x57ffd3(0x23e)](_0x2ccf46[_0x57ffd3(0x25e)]));else{if(_0x524c87[_0x57ffd3(0x1ff)]){if(_0x2ccf46[_0x57ffd3(0x25d)](_0x4c2b98[_0x57ffd3(0x1ff)]['errorCode'],_0x2ccf46[_0x57ffd3(0x205)]))return _0x2526ed[_0x57ffd3(0x227)]('Á¨¨',_0x2ccf46[_0x57ffd3(0x252)](_0x1dad1d,-0x1e*-0xeb+0x1*0x1f5a+-0x14f*0x2d),'Ë¥¶Âè∑',_0x5a40a6['data']['errorMessage']),null;return _0x15cb0d[_0x57ffd3(0x1ff)];}else _0x2a476c[_0x57ffd3(0x227)](_0x239a46);}}}_0x2ccf46[_0x57ffd3(0x267)](_0x14e1ea,++_0x41db37);}else return![];}try{if(_0x2ccf46[_0x2647dc(0x25d)](_0x2ccf46[_0x2647dc(0x22f)],'UmZPA'))return![];else{if(_0x2bb594)return _0x14e1ea;else{if(_0x2ccf46[_0x2647dc(0x256)](_0x2ccf46[_0x2647dc(0x22b)],_0x2ccf46[_0x2647dc(0x239)])){if(_0x1d7730)return _0x1ec7fa;else _0x2ccf46['ldbMY'](_0x1714f9,-0x139a+0x19c2+0x8*-0xc5);}else _0x2ccf46[_0x2647dc(0x267)](_0x14e1ea,0xb44+-0xc85*-0x2+-0x1*0x244e);}}}catch(_0x5f5132){}}

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `üîî${this.name}, ÂºÄÂßã!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t.stack) : this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
